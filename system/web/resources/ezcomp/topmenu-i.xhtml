<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="loginRequired" default="false" rendered="false"/>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>


        <h:inputHidden value="#{redirectController.redirect( cc.attrs.loginRequired )}" />
        <h:inputHidden value="#{redirectController.redirectIndex( cc.attrs.logoutRequired )}" />
        <h:inputHidden value="#{pageNavigationController.saveNavigation()}" />

        <h:form>



            <div class="hide-on-med-and-up" id="userPanelm">
                <p:panel id="loginPanel" rendered="#{!loginController.showName}">
                    <h:outputLink value="cadastrar-nova-conta.xhtml" >#{messages['register']}</h:outputLink> / 
                    <h:outputLink value="login.xhtml" >#{messages['signin']}</h:outputLink>
<!--                    <p:commandLink value="#{messages['signin']}" id="entrarLink" />                                 -->
                    <p:messages id="loginMessages" globalOnly="true" />
                </p:panel>
                <p:panel  styleClass="left" rendered="#{loginController.showName}">
                    #{messages['hello']} <h:outputText value="#{loginController.user.name}" />  :: 
                    <h:outputLink value="editar-perfil.xhtml">#{messages['edit.profile']}</h:outputLink>::
                    <h:outputLink value="logout.xhtml">#{messages['signout']}</h:outputLink>
                    
                </p:panel>
            </div>
        </h:form>

        <nav class="white" role="navigation">



            <div class="nav-wrapper container">

                <div class="logo-container">
                    <a href="./index.xhtml" class="brand-logo hide-on-small-and-down"><h:graphicImage styleClass="icon" value="resources/default/images/vst-color.png"/><!--#{messages['vivasemtabaco']}--></a>
                    <div class="hide-on-med-and-down" id="userPanel">
                        <p:panel  styleClass="right" rendered="#{loginController.showName}">
                            #{messages['hello']} <h:outputText value="#{loginController.user.name}" />  ::  
                            <h:outputLink value="editar-perfil.xhtml">#{messages['edit.profile']}</h:outputLink>::
                            <h:outputLink value="logout.xhtml">#{messages['signout']}</h:outputLink>
                        </p:panel>
                    </div>

                </div> 
                <ul class="right hide-on-med-and-down">
                    <li><a href="./index.xhtml">#{messages['menu.top.li1']}</a></li>
                    <li><a href="./programa.xhtml">#{messages['menu.top.li2']}</a></li>                                        
                    <li><a href="./quem-somos-os-autores.xhtml">#{messages['menu.top.li3']}</a></li>                    
                    <p:outputPanel rendered="#{!loginController.showName}">
                        <li><a href="./login.xhtml">#{messages['signin']}</a></li>
                    </p:outputPanel>
                    <li><h:form id="langform">                      
                            <div class="langselect"><h:selectOneMenu styleClass="browser-default blue-text text-darken-3" style="margin-top:10px;" value="#{languageController.language}" onchange="submit()">
                                    <f:selectItems value="#{languageController.languages}"/> 
                                </h:selectOneMenu></div>                        
                        </h:form></li>   
                </ul>                
            </div>
        </nav>

    </cc:implementation>
</html>