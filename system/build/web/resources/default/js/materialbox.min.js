
(function(a){a.fn.materialbox=function(){return this.each(function(){if(a(this).hasClass("intialized")){return}a(this).addClass("intialized");var d=false;var f=true;var g=275;var b=200;var i=a(this);var h=a("<div></div>").addClass("material-placeholder");var c=0;var e=0;i.wrap(h);i.on("click",function(){var u=i.parent(".material-placeholder");var n=window.innerWidth;var l=window.innerHeight;var m=i.width();var q=i.height();if(f===false){j();return false}else{if(d&&f===true){j();return false}}f=false;i.addClass("active");d=true;u.css({width:u[0].getBoundingClientRect().width,height:u[0].getBoundingClientRect().height,position:"relative",top:0,left:0});i.css({position:"absolute","z-index":1000}).data("width",m).data("height",q);var o=a('<div id="materialbox-overlay"></div>').css({opacity:0}).click(function(){if(f===true){j()}});a("body").append(o);o.velocity({opacity:1},{duration:g,queue:false,easing:"easeOutQuad"});if(i.data("caption")!==""){var v=a('<div class="materialbox-caption"></div>');v.text(i.data("caption"));a("body").append(v);v.css({display:"inline"});v.velocity({opacity:1},{duration:g,queue:false,easing:"easeOutQuad"})}var r=0;var t=m/n;var s=q/l;var p=0;var k=0;if(t>s){r=q/m;p=n*0.9;k=n*0.9*r}else{r=m/q;p=(l*0.9)*r;k=l*0.9}if(i.hasClass("responsive-img")){i.velocity({"max-width":p,width:m},{duration:0,queue:false,complete:function(){i.css({left:0,top:0}).velocity({height:k,width:p,left:a(document).scrollLeft()+n/2-i.parent(".material-placeholder").offset().left-p/2,top:a(document).scrollTop()+l/2-i.parent(".material-placeholder").offset().top-k/2},{duration:g,queue:false,easing:"easeOutQuad",complete:function(){f=true}})}})}else{i.css("left",0).css("top",0).velocity({height:k,width:p,left:a(document).scrollLeft()+n/2-i.parent(".material-placeholder").offset().left-p/2,top:a(document).scrollTop()+l/2-i.parent(".material-placeholder").offset().top-k/2},{duration:g,queue:false,easing:"easeOutQuad",complete:function(){f=true}})}});a(window).scroll(function(){if(d){j()}});a(document).keyup(function(k){if(k.keyCode===27&&f===true){if(d){j()}}});function j(){f=false;var m=i.parent(".material-placeholder");var k=window.innerWidth;var o=window.innerHeight;var n=i.data("width");var l=i.data("height");i.velocity("stop",true);a("#materialbox-overlay").velocity("stop",true);a(".materialbox-caption").velocity("stop",true);a("#materialbox-overlay").velocity({opacity:0},{duration:b,queue:false,easing:"easeOutQuad",complete:function(){d=false;a(this).remove()}});i.velocity({width:n,height:l,left:0,top:0},{duration:b,queue:false,easing:"easeOutQuad"});a(".materialbox-caption").velocity({opacity:0},{duration:b,queue:false,easing:"easeOutQuad",complete:function(){m.css({height:"",width:"",position:"",top:"",left:""});i.css({height:"",top:"",left:"",width:"","max-width":"",position:"","z-index":""});i.removeClass("active");f=true;a(this).remove()}})}})};a(document).ready(function(){a(".materialboxed").materialbox()})}(jQuery));